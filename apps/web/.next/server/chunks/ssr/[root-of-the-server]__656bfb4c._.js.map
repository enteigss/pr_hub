{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/entei/Personal/development/pr-hub-monorepo/apps/web/src/app/dashboard/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport { useEffect, useState } from 'react';\r\n\r\ninterface PullRequest {\r\n    id: number;\r\n    title: string;\r\n    html_url: string;\r\n    user: {\r\n        login: string;\r\n        avatar_url: string;\r\n    };\r\n    repository_url: string;\r\n    created_at: string;\r\n    draft: boolean;\r\n}\r\n\r\n// Helper function to show \"X days ago\"\r\nfunction timeAgo(dateString: string): string {\r\n  const date = new Date(dateString);\r\n  const now = new Date();\r\n  const seconds = Math.floor((now.getTime() - date.getTime()) / 1000);\r\n\r\n  let interval = seconds / 31536000; // years\r\n  if (interval > 1) return Math.floor(interval) + \" years ago\";\r\n  interval = seconds / 2592000; // months\r\n  if (interval > 1) return Math.floor(interval) + \" months ago\";\r\n  interval = seconds / 86400; // days\r\n  if (interval > 1) return Math.floor(interval) + \" days ago\";\r\n  interval = seconds / 3600; // hours\r\n  if (interval > 1) return Math.floor(interval) + \" hours ago\";\r\n  interval = seconds / 60; // minutes\r\n  if (interval > 1) return Math.floor(interval) + \" minutes ago\";\r\n  return Math.floor(seconds) + \" seconds ago\";\r\n}\r\n\r\n// Helper function to extract \"owner/repo\" from repository_url\r\nfunction getRepoName(url: string) {\r\n    try {\r\n        const parts = new URL(url).pathname.split('/');\r\n        return `${parts[2]}/${parts[3]}`;\r\n    } catch (e) {\r\n        return url;\r\n    }\r\n}\r\n\r\nexport default function DashboardPage() {\r\n    const [prs, setPrs] = useState<PullRequest[]>([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    useEffect(() => {\r\n        async function fetchPullRequests() {\r\n            try {\r\n                const response = await fetch('/api/my-prs', {\r\n                    credentials: 'include'\r\n                });\r\n                if (!response.ok) {\r\n                    console.error(\"Failed to get Pull Requests from backend.\");\r\n                    throw new Error(\"Not authorized. Please log in.\");\r\n                }\r\n\r\n                const data = await response.json();\r\n                console.log(\"Raw data from /api/my-prs:\", data);\r\n                setPrs(data.prs);\r\n            } catch (error) {\r\n                setError(error.message);\r\n            } finally {\r\n                setIsLoading(false);\r\n            }\r\n        }\r\n\r\n        fetchPullRequests();\r\n    }, [])\r\n\r\n    if (isLoading) {\r\n        return <div>Loading your PRs...</div>\r\n    }\r\n\r\n    if (error) {\r\n        return <div>Error: {error}</div>\r\n    }\r\n\r\n    // Load user's PRs\r\n    return (\r\n        <main className=\"max-w-2xl mx-auto p-4\">\r\n            <h1 className=\"text-2xl font-bold mb-4 text-center\">Your Pull Requests</h1>\r\n            <div className=\"flex flex-col gap-3\">\r\n                {prs.map((pr) => (\r\n                    // PR Card\r\n                    <div key={pr.id}\r\n                    // Gray out draft PRs\r\n                    className={`flex items-start gap-4 p-4 bg-white border rounded-lg shadow-sm\r\n                    ${pr.draft ? 'opacity-60' : ''}`}\r\n                    >\r\n                        {/* Column 1: Avatar */}\r\n                        <img \r\n                            src={pr.user.avatar_url}\r\n                            alt={pr.user.login}\r\n                            className=\"w-10 h-10 rounded-full\"\r\n                        />\r\n\r\n                        {/* Column 2: PR Info */}\r\n                        <div className=\"flex-1\">\r\n\r\n                            {/* Repo name + Draft Badge */}\r\n                            <div className='flex justify-between items-center'>\r\n                                <p className=\"text-sm text-gray-500\">\r\n                                    {getRepoName(pr.repository_url)}\r\n                                </p>\r\n                                {pr.draft && (\r\n                                    <span className=\"px-2 py-0.5 text-xs font-semibold text-gray-700 bg-gray-200 rounded-full\">\r\n                                        Draft\r\n                                    </span>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                        <a\r\n                            href={pr.html_url}\r\n                            className=\"text-lg font-semibold text-blue-600 hover:underline\"\r\n                            target=\"_blank\"\r\n                            rel=\"noopener noreferrer\"\r\n                        >\r\n                            {pr.title}\r\n                        </a>\r\n\r\n                        {/* Author + Date (meta info) */}\r\n                        <p className=\"text-sm text-gray-500 mt-1\">\r\n                            Authored by <span className=\"font-medium text-gray-700\">{pr.user.login}</span>\r\n                            <span> &bull; {timeAgo(pr.created_at)} </span>\r\n                        </p>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </main>\r\n    );\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 214, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/entei/Personal/development/pr-hub-monorepo/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 233, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/entei/Personal/development/pr-hub-monorepo/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 238, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/entei/Personal/development/pr-hub-monorepo/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0],"debugId":null}}]
}